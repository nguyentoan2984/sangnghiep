
<!-- được incluce vào trong trang user-quanly-cuahang -->
  
<form class="form-inline"  novalidate name="from_loadCong">
    <div class="container" style="overflow-x:auto;" id="table_export">  
        <table  datatable="ng" dt-options="dtOptions_tables " dt-column-defs="dtColumnDefs" id="table1" class="table  table-bordered bordered ">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h3 class="text-primary"> <i><strong>Bảng Chấm Công Chi Tiết Nhân Viên</strong></i> </h3>
                    <small>Khu Vực</small>
                    <select  ng-click="selectKhuVuc(objSelected_KhuVuc)" name="objSelected_khuvuc" class="form-control" ng-model="objSelected_KhuVuc" ng-options="item.makhuvuc for item in dsKhuVuc" required>
                          </select>
                    <small>Cửa Hàng</small>
                    <select  ng-click="selectCuahang(objSelected_cuaHang,{control:''})" name="objSelected_cuaHang" class="form-control" ng-model="objSelected_cuaHang" ng-options="item.storename for item in dsCuahang" required>
                        </select>
                </div>
            </div>
            <br>
            <div class="row text-center">
                <form>
                    <small> <strong  class="text-primary">Tên</strong> </small>
                    <select ng-click="selectNhanvien(objSelected_nhanvien)" name="objSelected" class="form-control" ng-model="objSelected_nhanvien" ng-options="item.tennhanvien for item in persons" required>
                                        </select>
                    <small> <strong  class="text-primary">Từ Ngày</strong> </small>
                    <input type="date" class="form-control " name="startDate" ng-model="date.startDate" ng-value="date.startDate" required>
                    <small><strong class="text-primary">Đến Ngày</strong></small>
                    <input type="date" class="form-control " name="endDate" ng-model="date.endDate" ng-value="date.endDate" required >
                    <button class="btn btn-success" ng-click="loadCong_nhanVien(date,objSelected_nhanvien)" 
                                ng-hide="
                                    from_loadCong.objSelected.$error.required 
                                +   from_loadCong.startDate.$error.required 
                                +   from_loadCong.endDate.$error.required 
                                       " >Tìm Kiếm</button>
                                       <!-- <button class="btn btn-link" ng-click="exportToExcel('#table_export')">
                                        <span class="glyphicon glyphicon-share"></span> Export to Excel
                                    </button> -->


                </form>
            </div>
        </div>
        <hr>
           
                    <!-- <caption><h3><strong> Bảng Chấm Công Chi Tiết</strong>  </h3>  </caption> -->
                    <thead>
                        
              <tr ng-hide="true">
                  <th  class="text-center" colspan="3"> Bảng Chấm Công Chi Tiết </th>
                  <th  class="text-center" colspan="3">Nhân viên: {{objSelected_nhanvien.tennhanvien}} </th>
                  <th  class="text-center" colspan="3"> Thuộc Cửa Hàng: {{objSelected_cuaHang.storename}} </th>
                  <th  class="text-center" colspan="3"> Từ Ngày: {{date.startDate | date :"dd-MM-yyyy" }} 
                      --  Đến Ngày: {{date.endDate | date :"dd-MM-yyyy" }}
                  </th>
              </tr>
                    <tr>
                        <th class="text-center"> STT</th>
                        <th  class="text-center">Cửa Hàng Đã Làm</th>
                        <th  class="text-center">Mã Cửa Hàng</th>
                        <th class="text-center">Ma Nv</th>
                        <th class="text-center" >Ngày Chấm Công</th>
                        <th class="text-center" >Tên Nv</th>
                        <th class="text-center" > Nhân Viên Thuộc Cửa Hàng </th>
                        <th class="text-center">Cấp Bậc</th>
                        <th class="text-center">Lương Giờ</th>
                        <th class="text-center" >Thời Gian Vào</th>
                        <th class="text-center" >Thời Gian Ra </th>
                        <th class="text-center">Giờ Công</th>
                        <th class="text-center">Lương Ngày </th>
                        <th class="text-center" ><button ng-hide=" from_loadCong.objSelected.$error.required "
                             type="button" ng-click="showDialogAdd_chamCong()" class="btn btn-info">Add</button></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-style="{'color':(cong.ghichu===null?'black':'red')}" ng-repeat="cong in chamCongNv">
                        <td align="center">{{ $last===true?null:$index+1 }}</td>
                        <td align="center">{{ cong.storename }} </td>
                        <td align="center">{{ cong.macuahang }} </td>
                        <td align="center">{{ cong.manhanvien }}</td>
                        <td align="center">{{ cong.date | date :"dd-MM-yyyy"}}</td>
                        <td align="center"  >{{ cong.tennhanvien }}</td>
                        <td align="center">{{ cong.cuahangnv }} </td>
                        <td align="center">{{ cong.vitri }}</td>
                        <td align="center">{{ cong.mucluong | number}}</td>
                        <td align="center" >{{ cong.timein }}</td>
                        <td align="center">{{ cong.timeout }} </td>
                        <td align="center">{{ cong.giocong  | number  }}</td>
                        <td align="center">{{ cong.luongngay | number }}</td>
                        <!-- <td align="center" > <i  ng-click="showDialogEditCong($index)" class="material-icons text-success">edit</i></td>
                        <td align="center" > <i  ng-click="showDialogEditCong($index)" class="material-icons text-success">show</i></td> -->
                        <td align="center" ng-hide="$last===true?true:false">
                            <button type="button" ng-click="showDialogEditCong($index)" > <i class="material-icons text-success">edit</i></button>
                            <button  ng-hide="{{cong.ghichu===null?true:false}}" type="button" ng-click="showDialogReport($index)" > <i class="material-icons text-danger">report problem</i></button>
                        </td>
                    </tr>
                </tbody>
           
 
    </table>
</div>
</form>
